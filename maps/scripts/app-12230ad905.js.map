{"version":3,"sources":["scripts/app-12230ad905.js"],"names":["angular","module","autoFocus","$rootScope","linkFunc","scope","element","$on","event","focus","directive","restrict","link","$inject","acmeNavbar","NavbarController","moment","vm","this","relativeDate","creationDate","fromNow","templateUrl","controller","controllerAs","bindToController","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","abstract","views","nav","main","template","footer","url","otherwise","config","constant","malarkey","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,aAAc,YAAa,YAAa,UAAW,aAAc,aAAc,SACrF,aAAc,YAAa,eAAgB,cAIjD,WACE,YAOA,SAASC,GAAUC,GAQjB,QAASC,GAASC,EAAOC,GACvBH,EAAWI,IAAI,qBACb,SAAUC,GACRF,EAAQ,GAAGG,UAVjB,GAAIC,IACFC,SAAU,IACVC,KAAMR,EAGR,OAAOM,GAXTV,QACGC,OAAO,aACPS,UAAU,YAAaR,GAkB1BA,EAAUW,SAAW,iBAEvB,WACE,YAOA,SAASC,KAeP,QAASC,GAAiBC,GACxB,GAAIC,GAAKC,IAGTD,GAAGE,aAAeH,EAAOC,EAAGG,cAAcC,UAlB5C,GAAIX,IACFC,SAAU,IACVW,YAAa,oCACbjB,OACIe,aAAc,KAElBG,WAAYR,EACZS,aAAc,KACdC,kBAAkB,EAGpB,OACAV,GAAiBF,SAAW,UADrBH,EAjBTV,QACGC,OAAO,aACPS,UAAU,aAAcI,MA4B7B,WACE,YAOA,SAASY,GAASC,GAEhBA,EAAKC,MAAM,gBAPb5B,QACGC,OAAO,aACP4B,IAAIH,GASPA,EAASb,SAAW,WACtB,WACE,YAOA,SAASiB,GAAaC,EAAgBC,GAEpCD,EACGE,MAAM,QACLC,YAAU,EACVC,OACEC,KACEd,YAAa,qCAEfe,MACEC,SAAU,kCAEZC,QACEjB,YAAa,wCAIlBW,MAAM,cACLO,IAAK,IACLlB,YAAa,8BAEdW,MAAM,eACLO,IAAK,UACLlB,YAAa,kCAEdW,MAAM,eACLO,IAAK,UACLlB,YAAa,kCAGjBU,EAAmBS,UAAU,KAnC/BzC,QACGC,OAAO,aACPyC,OAAOZ,GAsCVA,EAAajB,SAAW,iBAAkB,yBAC5C,WACE,YAEAb,SACGC,OAAO,aACP0C,SAAS,WAAYC,UACrBD,SAAS,SAAU3B,WAIxB,WACE,YAOA,SAAS0B,GAAOG,EAAcC,GAE5BD,EAAaE,cAAa,GAG1BD,EAAaE,WAAY,EACzBF,EAAaG,QAAU,IACvBH,EAAaI,cAAgB,kBAC7BJ,EAAaK,mBAAoB,EACjCL,EAAaM,aAAc,EAd7BpD,QACGC,OAAO,aACPyC,OAAOA,GAkBVA,EAAO7B,SAAW,eAAgB,mBADpCb,QAAQC,OAAO,aAAa4B,KAAK,iBAAkB,SAASwB,GAAiBA,EAAeC,IAAI,oCAAoC,iWACpID,EAAeC,IAAI,oCAAoC,ofACvDD,EAAeC,IAAI,oCAAoC,+BACvDD,EAAeC,IAAI,4BAA4B,8xCAC/CD,EAAeC,IAAI,gCAAgC,0HACnDD,EAAeC,IAAI,gCAAgC","file":"scripts/app-12230ad905.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria',\n      'ngResource', 'ui.router', 'ui.bootstrap', 'toastr']);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .directive('autoFocus', autoFocus);\n\n  /** @ngInject */\n  function autoFocus($rootScope) {\n    var directive = {\n      restrict: 'A',\n      link: linkFunc\n    };\n\n    return directive;\n\n    function linkFunc(scope, element) {\n      $rootScope.$on('$viewContentLoaded',\n        function (event) {\n          element[0].focus();\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController(moment) {\n      var vm = this;\n\n      // \"vm.creation\" is avaible by directive option \"bindToController: true\"\n      vm.relativeDate = moment(vm.creationDate).fromNow();\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('base', {\n        abstract: true,\n        views: {\n          \"nav\": {\n            templateUrl: 'app/components/header/header.html'\n          },\n          \"main\": {\n            template: '<ui-view autoscroll></ui-view>'\n          },\n          \"footer\": {\n            templateUrl: 'app/components/footer/footer.html'\n          }\n        }\n      })\n      .state('base.index', {\n        url: \"/\",\n        templateUrl: 'app/states/home/home.html'\n      })\n      .state('base.route1', {\n        url: \"/route1\",\n        templateUrl: 'app/states/route1/route1.html'\n      })\n      .state('base.route2', {\n        url: \"/route2\",\n        templateUrl: 'app/states/route2/route2.html'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .constant('malarkey', malarkey)\n    .constant('moment', moment);\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider, toastrConfig) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n    // Set options third-party lib\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    toastrConfig.progressBar = true;\n  }\n\n})();\n\nangular.module(\"routeA11y\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/footer/footer.html\",\"<div class=\\\"row\\\" id=\\\"footer\\\"><div class=\\\"col-sm-12 footer-content\\\"><div class=\\\"text-center\\\"><h5 class=\\\"row\\\"><span class=\\\"col-xs-12 col-sm-6\\\">Power by Julia Passynkova</span> <span><span class=\\\"glyphicon glyphicon-envelope\\\" aria-hidden=\\\"true\\\"></span> Email: <a href=\\\"mailto:ipassynk@hotmail.com\\\">ipassynk@hotmail.com</a></span></h5></div></div></div>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"https://github.com/ipassynk/route-a11y\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span>Route A11Y</a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\"><ul class=\\\"nav navbar-nav\\\"><li><a ui-sref=\\\"base.index\\\">Home</a></li><li><a ui-sref=\\\"base.route1\\\">Route1</a></li><li><a ui-sref=\\\"base.route2\\\">Route2</a></li></ul></div></div></nav>\");\n$templateCache.put(\"app/components/header/header.html\",\"<acme-navbar></acme-navbar>\");\n$templateCache.put(\"app/states/home/home.html\",\"<div id=\\\"home\\\"><div class=\\\"well\\\"><h1>Overview</h1></div><p>This is my attempt to add accessibility to angular SPA application. Router UI is used to navigate between different application states. Therefore, the navigation and footer stays the same and only the main area gets updated.</p>When a user clicks on a navigation link that changes the state the goal is:<ul><li>To push the dynamic content to screen reader to be announced</li><li>Move focus should to the new dynamic content</li></ul><h2>Push dynamic content</h2>I tried to use <b>aria-live</b> but somehow it did not work for this case. Role <b>alert</b> made the magic: <img class=\\\"img-responsive\\\" src=\\\"/assets/images/rolealert.png\\\" alt=\\\"code with role alert\\\"><h2>Focus management</h2><b>AutoFocus</b> directive was added to dynamically move the focus when on the success routing event.<h2>How to test</h2>I tested the solution using Voice Over on Mac, NVDA on Windows and ChromVox plugin. Here is screen log from Voice Over when I clicked on \\'Route2\\' navigation link. As you see the screen reader was able to announce the new dynamic content automatically. <img class=\\\"img-responsive\\\" src=\\\"/assets/images/voiceover.png\\\" alt=\\\"voice over screen capture\\\"><h2>Suggestions</h2>Please let me know if you solved this problem using other means.</div>\");\n$templateCache.put(\"app/states/route1/route1.html\",\"<h1 class=\\\"text-center\\\">Route1</h1><p>Route1 content is here ....</p><label>Route1 name: <input name=\\\"route1\\\"></label>\");\n$templateCache.put(\"app/states/route2/route2.html\",\"<h1 class=\\\"text-center\\\">Route2</h1><p>Route2 content is here ....</p><label>Route2 name: <input name=\\\"route2\\\"></label>\");}]);"],"sourceRoot":"/source/"}