{"version":3,"sources":["scripts/app-9396421425.js"],"names":["angular","module","autoFocus","$rootScope","linkFunc","scope","element","$on","event","focus","directive","restrict","link","$inject","acmeNavbar","NavbarController","templateUrl","creationDate","controller","controllerAs","bindToController","calculator","CalculatorController","$timeout","calculate","vm","calculated","result","Math","floor","random","this","runBlock","$log","debug","run","routerConfig","$stateProvider","$urlRouterProvider","state","abstract","views","nav","main","template","footer","url","otherwise","config","$logProvider","debugEnabled","$templateCache","put"],"mappings":"CAAA,WACE,YAEAA,SACGC,OAAO,aAAc,YAAa,YAAa,UAAW,aAAc,aAAc,SACrF,aAAc,YAAa,oBAIjC,WACE,YAOA,SAASC,GAAUC,GAQjB,QAASC,GAASC,EAAOC,GACvBH,EAAWI,IAAI,qBACb,SAAUC,GACRF,EAAQ,GAAGG,UAVjB,GAAIC,IACFC,SAAU,IACVC,KAAMR,EAGR,OAAOM,GAXTV,QACGC,OAAO,aACPS,UAAU,YAAaR,GAkB1BA,EAAUW,SAAW,iBAEvB,WACE,YAOA,SAASC,KAeP,QAASC,MAdT,GAAIL,IACFC,SAAU,IACVK,YAAa,oCACbX,OACIY,aAAc,KAElBC,WAAYH,EACZI,aAAc,KACdC,kBAAkB,EAGpB,OAAOV,GAjBTV,QACGC,OAAO,aACPS,UAAU,aAAcI,MAyB7B,WACE,YAOA,SAASO,KAYP,QAASC,GAAqBC,GAI5B,QAASC,KACPC,EAAGC,YAAa,EAChBH,EAAS,WACPE,EAAGC,YAAa,EAChBD,EAAGE,OAASC,KAAKC,MAAuB,GAAhBD,KAAKE,SAAiB,GAAK,MAASF,KAAKC,MAAuB,GAAhBD,KAAKE,SAAiB,IAC7F,KARL,GAAIL,GAAKM,IACTN,GAAGD,UAAYA,EAbjB,GAAId,IACFC,SAAU,IACVK,YAAa,4CACbE,WAAYI,EACZH,aAAc,KACdC,kBAAkB,EAGpB,OACAE,GAAqBT,SAAW,YADzBH,EAdTV,QACGC,OAAO,aACPS,UAAU,aAAcW,MA+B7B,WACE,YAOA,SAASW,GAASC,GAEhBA,EAAKC,MAAM,gBAPblC,QACGC,OAAO,aACPkC,IAAIH,GASPA,EAASnB,SAAW,WACtB,WACE,YAOA,SAASuB,GAAaC,EAAgBC,GAEpCD,EACGE,MAAM,QACLC,YAAU,EACVC,OACEC,KACE1B,YAAa,qCAEf2B,MACEC,SAAU,mCAEZC,QACE7B,YAAa,wCAIlBuB,MAAM,cACLO,IAAK,IACL9B,YAAa,8BAEduB,MAAM,iBACLO,IAAK,UACL9B,YAAa,kCAEduB,MAAM,mBACLO,IAAK,UACL9B,YAAa,kCAEduB,MAAM,gBACLO,IAAK,WACL9B,YAAa,kCAEduB,MAAM,cACLO,IAAK,SACL9B,YAAa,kCAEduB,MAAM,mBACLO,IAAK,cACL9B,YAAa,kCAGjBsB,EAAmBS,UAAU,KA/C/B/C,QACGC,OAAO,aACP+C,OAAOZ,GAkDVA,EAAavB,SAAW,iBAAkB,yBAC5C,WACE,YAEAb,SACGC,OAAO,gBAIZ,WACE,YAOA,SAAS+C,GAAOC,GAEdA,EAAaC,cAAa,GAP5BlD,QACGC,OAAO,aACP+C,OAAOA,GAYVA,EAAOnC,SAAW,mBADpBb,QAAQC,OAAO,aAAakC,KAAK,iBAAkB,SAASgB,GAAiBA,EAAeC,IAAI,4CAA4C,6TAC5ID,EAAeC,IAAI,oCAAoC,oXACvDD,EAAeC,IAAI,oCAAoC,+BACvDD,EAAeC,IAAI,oCAAoC,80BACvDD,EAAeC,IAAI,4BAA4B,yyCAC/CD,EAAeC,IAAI,gCAAgC,6gBACnDD,EAAeC,IAAI,gCAAgC,kJACnDD,EAAeC,IAAI,gCAAgC","file":"scripts/app-9396421425.js","sourcesContent":["(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y', ['ngAnimate', 'ngCookies', 'ngTouch', 'ngSanitize', 'ngMessages', 'ngAria',\n      'ngResource', 'ui.router', 'ui.bootstrap']);\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .directive('autoFocus', autoFocus);\n\n  /** @ngInject */\n  function autoFocus($rootScope) {\n    var directive = {\n      restrict: 'A',\n      link: linkFunc\n    };\n\n    return directive;\n\n    function linkFunc(scope, element) {\n      $rootScope.$on('$viewContentLoaded',\n        function (event) {\n          element[0].focus();\n        });\n    }\n  }\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .directive('acmeNavbar', acmeNavbar);\n\n  /** @ngInject */\n  function acmeNavbar() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/navbar/navbar.html',\n      scope: {\n          creationDate: '='\n      },\n      controller: NavbarController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function NavbarController() {\n      var vm = this;\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .directive('calculator', calculator);\n\n  /** @ngInject */\n  function calculator() {\n    var directive = {\n      restrict: 'E',\n      templateUrl: 'app/components/calculator/calculator.html',\n      controller: CalculatorController,\n      controllerAs: 'vm',\n      bindToController: true\n    };\n\n    return directive;\n\n    /** @ngInject */\n    function CalculatorController($timeout) {\n      var vm = this;\n      vm.calculate = calculate;\n\n      function calculate() {\n        vm.calculated = false;\n        $timeout(function() {\n          vm.calculated = true;\n          vm.result = Math.floor((Math.random() * 10) + 1) + \" + \"  + Math.floor((Math.random() * 10) + 1);\n        }, 1000);\n      }\n    }\n  }\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .run(runBlock);\n\n  /** @ngInject */\n  function runBlock($log) {\n\n    $log.debug('runBlock end');\n  }\n\n})();\n\n(function () {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .config(routerConfig);\n\n  /** @ngInject */\n  function routerConfig($stateProvider, $urlRouterProvider) {\n\n    $stateProvider\n      .state('base', {\n        abstract: true,\n        views: {\n          \"nav\": {\n            templateUrl: 'app/components/header/header.html'\n          },\n          \"main\": {\n            template: '<ui-view role=\"main\"></ui-view>'\n          },\n          \"footer\": {\n            templateUrl: 'app/components/footer/footer.html'\n          }\n        }\n      })\n      .state('base.index', {\n        url: \"/\",\n        templateUrl: 'app/states/home/home.html'\n      })\n      .state('base.liveAria', {\n        url: \"/route1\",\n        templateUrl: 'app/states/route1/route1.html'\n      })\n      .state('base.busyButton', {\n        url: \"/route2\",\n        templateUrl: 'app/states/route3/route2.html'\n      })\n      .state('base.loading', {\n        url: \"/loading\",\n        templateUrl: 'app/states/route3/route3.html'\n      })\n      .state('base.alert', {\n        url: \"/alert\",\n        templateUrl: 'app/states/route3/route3.html'\n      })\n      .state('base.errorfield', {\n        url: \"/errorfield\",\n        templateUrl: 'app/states/route3/route3.html'\n      });\n\n    $urlRouterProvider.otherwise('/');\n  }\n\n})();\n\n/* global malarkey:false, moment:false */\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y');\n\n})();\n\n(function() {\n  'use strict';\n\n  angular\n    .module('routeA11y')\n    .config(config);\n\n  /** @ngInject */\n  function config($logProvider) {\n    // Enable log\n    $logProvider.debugEnabled(true);\n\n  }\n\n})();\n\nangular.module(\"routeA11y\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/components/calculator/calculator.html\",\"<div class=\\\"calculator text-center\\\"><button ng-click=\\\"vm.calculate();\\\" aria-controls=\\\"calculate-result\\\">Calculate</button><div id=\\\"calculate-result\\\" role=\\\"region\\\" aria-live=\\\"assertive\\\" aria-relevant=\\\"all\\\"><div ng-if=\\\"vm.calculated\\\" class=\\\"result\\\"><span>Result:</span><span>{{ vm.result }}</span></div></div></div>\");\n$templateCache.put(\"app/components/footer/footer.html\",\"<div class=\\\"row\\\" id=\\\"footer\\\" role=\\\"contentinfo\\\"><div class=\\\"col-sm-12 footer-content\\\"><div class=\\\"text-center\\\"><h5 class=\\\"row\\\"><span class=\\\"col-xs-12 col-sm-6\\\">Power by Julia Passynkova</span> <span><span class=\\\"glyphicon glyphicon-envelope\\\" aria-hidden=\\\"true\\\"></span> Email: <a href=\\\"mailto:ipassynk@hotmail.com\\\">ipassynk@hotmail.com</a></span></h5></div></div></div>\");\n$templateCache.put(\"app/components/header/header.html\",\"<acme-navbar></acme-navbar>\");\n$templateCache.put(\"app/components/navbar/navbar.html\",\"<nav class=\\\"navbar navbar-static-top navbar-inverse\\\" role=\\\"navigation\\\"><div class=\\\"container-fluid\\\"><div class=\\\"navbar-header\\\"><a class=\\\"navbar-brand\\\" href=\\\"https://github.com/ipassynk/route-a11y\\\"><span class=\\\"glyphicon glyphicon-home\\\"></span>A11Y Patterns</a></div><div class=\\\"collapse navbar-collapse\\\" id=\\\"bs-example-navbar-collapse-6\\\"><ul class=\\\"nav navbar-nav\\\" role=\\\"menu\\\"><li><a ui-sref=\\\"base.index\\\" role=\\\"menuitem\\\">Routing</a></li><li><a ui-sref=\\\"base.liveAria\\\" role=\\\"menuitem\\\">Aria Live</a></li><li><a ui-sref=\\\"base.busyButton\\\" role=\\\"menuitem\\\">Busy Button</a></li><li><a ui-sref=\\\"base.loading\\\" role=\\\"menuitem\\\">Loading</a></li><li><a ui-sref=\\\"base.loading\\\" role=\\\"menuitem\\\">Alert</a></li><li><a ui-sref=\\\"base.loading\\\" role=\\\"menuitem\\\">Error Field</a></li><li><a ui-sref=\\\"base.loading\\\" role=\\\"menuitem\\\">Title</a></li></ul></div></div></nav>\");\n$templateCache.put(\"app/states/home/home.html\",\"<div id=\\\"home\\\"><div class=\\\"well\\\"><h1>Routing</h1></div><p>This is my attempt to add accessibility to angular SPA application. Router UI is used to navigate between different application states. Therefore, the navigation and footer stays the same and only the main area gets updated.</p>When a user clicks on a navigation link that changes the state the goal is:<ul><li>To push the dynamic content to screen reader to be announced</li><li>Move focus should to the new dynamic content</li></ul><h3>Push dynamic content</h3>I tried to use <b>aria-live</b> but somehow it did not work for this case. Role <b>alert</b> made the magic: <img class=\\\"img-responsive rolealert\\\" src=\\\"assets/images/rolealert.png\\\" alt=\\\"code with role alert\\\"><h3>Focus management</h3><b>AutoFocus</b> directive was added to dynamically move the focus when on the success routing event.<h3>How to test</h3>I tested the solution using Voice Over on Mac, NVDA on Windows and ChromVox plugin. Here is screen log from Voice Over when I clicked on \\'Route2\\' navigation link. As you see the screen reader was able to announce the new dynamic content automatically. <img class=\\\"img-responsive\\\" src=\\\"assets/images/voiceover.png\\\" alt=\\\"voice over screen capture\\\"><h3>Suggestions</h3>Please let me know if you solved this problem using any other means.</div>\");\n$templateCache.put(\"app/states/route1/route1.html\",\"<div id=\\\"result1\\\"><div class=\\\"well\\\"><h1 class=\\\"text-center\\\">Aria Live</h1></div><p>The page demonstrates live aria usage. Upon the button click a new region is opened and screen reader announced it.</p><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><calculator></calculator></div><div class=\\\"col-sm-6 text-center\\\"><img class=\\\"img-responsive rolealert\\\" src=\\\"assets/images/livearia.png\\\" alt=\\\"screen log with live aria\\\"><div class=\\\"help-block\\\">Voice Over announced the result when calculate button is clicked</div></div></div></div>\");\n$templateCache.put(\"app/states/route2/route2.html\",\"<div class=\\\"well\\\"><h1 class=\\\"text-center\\\">Route2</h1></div><p>Route2 content is here ....</p><label>Route2 name: <input name=\\\"route2\\\"></label>\");\n$templateCache.put(\"app/states/route3/route3.html\",\"<h1>Need to add (TODO)</h1>\");}]);"],"sourceRoot":"/source/"}