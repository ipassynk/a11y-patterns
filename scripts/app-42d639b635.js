!function(){"use strict";angular.module("routeA11y",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngMessages","ngAria","ngResource","ui.router","ui.bootstrap"])}(),function(){"use strict";function e(e){function t(t,a){e.$on("$viewContentLoaded",function(e){a[0].focus()})}var a={restrict:"A",link:t};return a}angular.module("routeA11y").directive("autoFocus",e),e.$inject=["$rootScope"]}(),function(){"use strict";function e(){function e(){}var t={restrict:"E",templateUrl:"app/components/navbar/navbar.html",scope:{creationDate:"="},controller:e,controllerAs:"vm",bindToController:!0};return t}angular.module("routeA11y").directive("acmeNavbar",e)}(),function(){"use strict";function e(){function e(e){function t(){a.calculated=!1,e(function(){a.calculated=!0,a.result=Math.floor(10*Math.random()+1)+" + "+Math.floor(10*Math.random()+1)},1e3)}var a=this;a.calculate=t}var t={restrict:"E",templateUrl:"app/components/calculator/calculator.html",controller:e,controllerAs:"vm",bindToController:!0};return e.$inject=["$timeout"],t}angular.module("routeA11y").directive("calculator",e)}(),function(){"use strict";function e(e){e.debug("runBlock end")}angular.module("routeA11y").run(e),e.$inject=["$log"]}(),function(){"use strict";function e(e,t){e.state("base",{"abstract":!0,views:{nav:{templateUrl:"app/components/header/header.html"},main:{template:"<ui-view></ui-view>"},footer:{templateUrl:"app/components/footer/footer.html"}}}).state("base.index",{url:"/",templateUrl:"app/states/home/home.html"}).state("base.route1",{url:"/route1",templateUrl:"app/states/route1/route1.html"}).state("base.route2",{url:"/route2",templateUrl:"app/states/route2/route2.html"}),t.otherwise("/")}angular.module("routeA11y").config(e),e.$inject=["$stateProvider","$urlRouterProvider"]}(),function(){"use strict";angular.module("routeA11y")}(),function(){"use strict";function e(e){e.debugEnabled(!0)}angular.module("routeA11y").config(e),e.$inject=["$logProvider"]}(),angular.module("routeA11y").run(["$templateCache",function(e){e.put("app/components/calculator/calculator.html",'<div class="calculator text-center"><button ng-click="vm.calculate();" aria-controls="calculate-result">Calculate</button><div id="calculate-result" role="region" aria-live="assertive" aria-relevant="all"><div ng-if="vm.calculated" class="result"><span>Result:</span><span>{{ vm.result }}</span></div></div></div>'),e.put("app/components/footer/footer.html",'<div class="row" id="footer"><div class="col-sm-12 footer-content"><div class="text-center"><h5 class="row"><span class="col-xs-12 col-sm-6">Power by Julia Passynkova</span> <span><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Email: <a href="mailto:ipassynk@hotmail.com">ipassynk@hotmail.com</a></span></h5></div></div></div>'),e.put("app/components/header/header.html","<acme-navbar></acme-navbar>"),e.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="https://github.com/ipassynk/route-a11y"><span class="glyphicon glyphicon-home"></span>Route A11Y</a></div><div class="collapse navbar-collapse" id="bs-example-navbar-collapse-6"><ul class="nav navbar-nav"><li><a ui-sref="base.index">Home</a></li><li><a ui-sref="base.route1">Route1</a></li><li><a ui-sref="base.route2">Route2</a></li></ul></div></div></nav>'),e.put("app/states/home/home.html",'<div id="home"><div class="well"><h1>Overview</h1></div><p>This is my attempt to add accessibility to angular SPA application. Router UI is used to navigate between different application states. Therefore, the navigation and footer stays the same and only the main area gets updated.</p>When a user clicks on a navigation link that changes the state the goal is:<ul><li>To push the dynamic content to screen reader to be announced</li><li>Move focus should to the new dynamic content</li></ul><h3>Push dynamic content</h3>I tried to use <b>aria-live</b> but somehow it did not work for this case. Role <b>alert</b> made the magic: <img class="img-responsive rolealert" src="assets/images/rolealert.png" alt="code with role alert"><h3>Focus management</h3><b>AutoFocus</b> directive was added to dynamically move the focus when on the success routing event.<h3>How to test</h3>I tested the solution using Voice Over on Mac, NVDA on Windows and ChromVox plugin. Here is screen log from Voice Over when I clicked on \'Route2\' navigation link. As you see the screen reader was able to announce the new dynamic content automatically. <img class="img-responsive" src="assets/images/voiceover.png" alt="voice over screen capture"><h3>Suggestions</h3>Please let me know if you solved this problem using any other means.</div>'),e.put("app/states/route1/route1.html",'<div id="result1"><div class="well"><h1 class="text-center">Route1 - Live Aria</h1></div><p>Route1 demonstrates live aria usage. Upon the button click a new region is opened and screen reader announced it. See the screen log of Voice Over when calculate button is clicked: <img class="img-responsive rolealert" src="assets/images/livearia.png" alt="screen log with live aria"></p><calculator></calculator></div>'),e.put("app/states/route2/route2.html",'<div class="well"><h1 class="text-center">Route2</h1></div><p>Route2 content is here ....</p><label>Route2 name: <input name="route2"></label>')}]);
//# sourceMappingURL=../maps/scripts/app-42d639b635.js.map
